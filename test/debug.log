2025-08-29 09:11:05,143 - DEBUG - Environment variables - PHONE_NUMBER_ID: 254764134391952, META_API_VERSION: v21.0, OLLAMA_URL: http://localhost:11434, OLLAMA_MODEL: mistral, DEBUG_LOGGING: True, VERIFY_TOKEN_SET: True, ACCESS_TOKEN_SET: True
2025-08-29 09:11:05,193 - DEBUG - Using proactor: IocpProactor
2025-08-29 09:12:34,587 - DEBUG - Environment variables - PHONE_NUMBER_ID: 254764134391952, META_API_VERSION: v21.0, OLLAMA_URL: http://localhost:11434, OLLAMA_MODEL: mistral, DEBUG_LOGGING: True, VERIFY_TOKEN_SET: True, ACCESS_TOKEN_SET: True, PORT: 8000
2025-08-29 09:12:34,629 - INFO - Starting WhatsApp Chatbot with Ollama...
2025-08-29 09:12:34,629 - INFO - Model: mistral
2025-08-29 09:12:34,629 - INFO - Debug logging: True
2025-08-29 09:12:34,630 - INFO - Server will run on port: 8000
2025-08-29 09:12:34,633 - DEBUG - Using proactor: IocpProactor
2025-08-29 09:34:22,960 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBNDU4NjhDMUZGMUQ4MTA1M0UwAA==",
                "timestamp": "1756434859",
                "text": {
                  "body": "Heloow"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:34:22,961 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBNDU4NjhDMUZGMUQ4MTA1M0UwAA==",
  "timestamp": "1756434859",
  "text": {
    "body": "Heloow"
  },
  "type": "text"
}
2025-08-29 09:34:22,961 - INFO - New message from 0812: Heloow...
2025-08-29 09:34:22,961 - DEBUG - User message to Ollama: Heloow
2025-08-29 09:34:22,962 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: Heloow\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:34:22,964 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:34:54,999 - ERROR - Ollama timeout
2025-08-29 09:34:55,000 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Maaf, respons terlalu lama. Coba ulangi pertanyaan anda."
  }
}
2025-08-29 09:34:55,003 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:34:56,438 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:34:56,439 - INFO - Message sent to 0812
2025-08-29 09:34:56,439 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjVEMEM5ODY2RjA2RDEwQTg1MQA="}]}
2025-08-29 09:34:59,232 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjVEMEM5ODY2RjA2RDEwQTg1MQA=",
                "status": "sent",
                "timestamp": "1756434896",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "625919a0fe9e61520809b23c60b52b58",
                  "expiration_timestamp": "1756434896",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:34:59,561 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjVEMEM5ODY2RjA2RDEwQTg1MQA=",
                "status": "delivered",
                "timestamp": "1756434896",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "625919a0fe9e61520809b23c60b52b58",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:34:59,977 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjVEMEM5ODY2RjA2RDEwQTg1MQA=",
                "status": "read",
                "timestamp": "1756434896",
                "recipient_id": "6282244100812"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:34:59,977 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjVEMEM5ODY2RjA2RDEwQTg1MQA=', 'status': 'read', 'timestamp': '1756434896', 'recipient_id': '6282244100812'}
2025-08-29 09:36:13,671 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBODhEOEQ1QzZDMTg2MUFGMzU2AA==",
                "timestamp": "1756434970",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:36:13,672 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBODhEOEQ1QzZDMTg2MUFGMzU2AA==",
  "timestamp": "1756434970",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:36:13,672 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:36:13,672 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:36:13,672 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:36:13,673 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:36:45,710 - ERROR - Ollama timeout
2025-08-29 09:36:45,710 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Maaf, respons terlalu lama. Coba ulangi pertanyaan anda."
  }
}
2025-08-29 09:36:45,711 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:36:46,948 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:36:46,948 - INFO - Message sent to 0812
2025-08-29 09:36:46,949 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjczODg3MjVBNjZCOERBRERGNAA="}]}
2025-08-29 09:36:49,585 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjczODg3MjVBNjZCOERBRERGNAA=",
                "status": "delivered",
                "timestamp": "1756435007",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "bc2672d1bb66b3d7c47d5abfd754d18b",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:36:49,587 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjczODg3MjVBNjZCOERBRERGNAA=",
                "status": "sent",
                "timestamp": "1756435006",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "bc2672d1bb66b3d7c47d5abfd754d18b",
                  "expiration_timestamp": "1756435006",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:37:16,247 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "M. Toriqul"
                },
                "wa_id": "6285730784528"
              }
            ],
            "messages": [
              {
                "from": "6285730784528",
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIEQyNjVDNTE5NTc5NEU2QTJDRkQ0RkNEMzEwMUUyNDhCAA==",
                "timestamp": "1756435033",
                "text": {
                  "body": "halo"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:37:16,247 - DEBUG - Processing message: {
  "from": "6285730784528",
  "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIEQyNjVDNTE5NTc5NEU2QTJDRkQ0RkNEMzEwMUUyNDhCAA==",
  "timestamp": "1756435033",
  "text": {
    "body": "halo"
  },
  "type": "text"
}
2025-08-29 09:37:16,247 - INFO - New message from 4528: halo...
2025-08-29 09:37:16,247 - DEBUG - User message to Ollama: halo
2025-08-29 09:37:16,247 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: halo\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:37:16,248 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:37:48,305 - ERROR - Ollama timeout
2025-08-29 09:37:48,305 - DEBUG - Sending WhatsApp message to 6285730784528: {
  "messaging_product": "whatsapp",
  "to": "6285730784528",
  "type": "text",
  "text": {
    "body": "Maaf, respons terlalu lama. Coba ulangi pertanyaan anda."
  }
}
2025-08-29 09:37:48,306 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:37:49,636 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:37:49,637 - INFO - Message sent to 4528
2025-08-29 09:37:49,637 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6285730784528","wa_id":"6285730784528"}],"messages":[{"id":"wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA="}]}
2025-08-29 09:37:49,640 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBRTE3NDI5N0I5NkQ3RUUyMUU4AA==",
                "timestamp": "1756435037",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:37:49,641 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBRTE3NDI5N0I5NkQ3RUUyMUU4AA==",
  "timestamp": "1756435037",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:37:49,641 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:37:49,641 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:37:49,641 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:37:49,643 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:38:21,661 - ERROR - Ollama timeout
2025-08-29 09:38:21,662 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Maaf, respons terlalu lama. Coba ulangi pertanyaan anda."
  }
}
2025-08-29 09:38:21,663 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:38:22,944 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:38:22,945 - INFO - Message sent to 0812
2025-08-29 09:38:22,946 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjc5RjcxN0E5NkFCMDlERjUxRAA="}]}
2025-08-29 09:38:22,948 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "Saifulloh Fadli"
                },
                "wa_id": "6283856796122"
              }
            ],
            "messages": [
              {
                "from": "6283856796122",
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABIYFDNBMTJDNjQ0NkYyRDg5NEMxNDE4AA==",
                "timestamp": "1756435064",
                "text": {
                  "body": "Oioioi"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:38:22,949 - DEBUG - Processing message: {
  "from": "6283856796122",
  "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABIYFDNBMTJDNjQ0NkYyRDg5NEMxNDE4AA==",
  "timestamp": "1756435064",
  "text": {
    "body": "Oioioi"
  },
  "type": "text"
}
2025-08-29 09:38:22,950 - INFO - New message from 6122: Oioioi...
2025-08-29 09:38:22,950 - DEBUG - User message to Ollama: Oioioi
2025-08-29 09:38:22,950 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: Oioioi\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:38:22,951 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:38:50,477 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1965
2025-08-29 09:38:50,477 - DEBUG - Ollama response: Hallo! Saya bukan seorang manusia tetapi asisten AI. Saya tidak mengerti perintah yang anda kirim, tapi saya akan membantu setelah anda memberikan perintah yang lebih jelas 😊
2025-08-29 09:38:50,478 - DEBUG - Sending WhatsApp message to 6283856796122: {
  "messaging_product": "whatsapp",
  "to": "6283856796122",
  "type": "text",
  "text": {
    "body": "Hallo! Saya bukan seorang manusia tetapi asisten AI. Saya tidak mengerti perintah yang anda kirim, tapi saya akan membantu setelah anda memberikan perintah yang lebih jelas \ud83d\ude0a"
  }
}
2025-08-29 09:38:50,478 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:38:51,977 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:38:51,977 - INFO - Message sent to 6122
2025-08-29 09:38:51,977 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6283856796122","wa_id":"6283856796122"}],"messages":[{"id":"wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEjk5Q0Q5NjQxRjkwMzY3MUMwNgA="}]}
2025-08-29 09:38:51,979 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA=",
                "status": "sent",
                "timestamp": "1756435069",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "e2a3261084b7f39d8867ecc0d0f06157",
                  "expiration_timestamp": "1756435069",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:38:51,981 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA=",
                "status": "delivered",
                "timestamp": "1756435069",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "e2a3261084b7f39d8867ecc0d0f06157",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:38:51,981 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA=",
                "status": "delivered",
                "timestamp": "1756435069",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "e2a3261084b7f39d8867ecc0d0f06157",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:38:51,983 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQjU3NEUzMDNFQkFDQzJGMTRDAA==",
                "timestamp": "1756435085",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:38:51,983 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQjU3NEUzMDNFQkFDQzJGMTRDAA==",
  "timestamp": "1756435085",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:38:51,983 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:38:51,983 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:38:51,983 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:38:51,984 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:38:59,284 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1976
2025-08-29 09:38:59,285 - DEBUG - Ollama response: Ya, ada fasilitas gym di sekitarmu! Coba cari gym terdekat dengan aplikasi yang menyediakan informasi tentang lokasi gym di kota ini. 🏋️‍♂️🙏🏼
2025-08-29 09:38:59,285 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Ya, ada fasilitas gym di sekitarmu! Coba cari gym terdekat dengan aplikasi yang menyediakan informasi tentang lokasi gym di kota ini. \ud83c\udfcb\ufe0f\u200d\u2642\ufe0f\ud83d\ude4f\ud83c\udffc"
  }
}
2025-08-29 09:38:59,286 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:39:00,520 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:39:00,743 - INFO - Message sent to 0812
2025-08-29 09:39:00,743 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjg1MEZGNjYxMEFERDI1N0JDMAA="}]}
2025-08-29 09:39:00,745 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA=",
                "status": "read",
                "timestamp": "1756435093",
                "recipient_id": "6285730784528"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:00,746 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjg4MDEwQzkwMDBBMjI4MENBRAA=', 'status': 'read', 'timestamp': '1756435093', 'recipient_id': '6285730784528'}
2025-08-29 09:39:17,006 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "Saifulloh Fadli"
                },
                "wa_id": "6283856796122"
              }
            ],
            "messages": [
              {
                "from": "6283856796122",
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABIYFDNBOUFGQjRGMjMwRjU2Q0M0OENGAA==",
                "timestamp": "1756435154",
                "text": {
                  "body": "Apa itu ai?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:17,007 - DEBUG - Processing message: {
  "from": "6283856796122",
  "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABIYFDNBOUFGQjRGMjMwRjU2Q0M0OENGAA==",
  "timestamp": "1756435154",
  "text": {
    "body": "Apa itu ai?"
  },
  "type": "text"
}
2025-08-29 09:39:17,007 - INFO - New message from 6122: Apa itu ai?...
2025-08-29 09:39:17,007 - DEBUG - User message to Ollama: Apa itu ai?
2025-08-29 09:39:17,007 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: Apa itu ai?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:39:17,008 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:39:26,118 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-08-29 09:39:26,118 - DEBUG - Ollama response: Saya adalah asisten AI yang berfungsi untuk membantu Anda. AI (Artificial Intelligence) adalah teknologi yang menciptakan sistem yang dapat belajar dan menyelesaikan tugas secara otomatis tanpa diberikan instruksi langsung oleh manusia 🤖.
2025-08-29 09:39:26,119 - DEBUG - Sending WhatsApp message to 6283856796122: {
  "messaging_product": "whatsapp",
  "to": "6283856796122",
  "type": "text",
  "text": {
    "body": "Saya adalah asisten AI yang berfungsi untuk membantu Anda. AI (Artificial Intelligence) adalah teknologi yang menciptakan sistem yang dapat belajar dan menyelesaikan tugas secara otomatis tanpa diberikan instruksi langsung oleh manusia \ud83e\udd16."
  }
}
2025-08-29 09:39:26,119 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:39:27,338 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:39:27,338 - INFO - Message sent to 6122
2025-08-29 09:39:27,338 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6283856796122","wa_id":"6283856796122"}],"messages":[{"id":"wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA="}]}
2025-08-29 09:39:29,507 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA=",
                "status": "sent",
                "timestamp": "1756435167",
                "recipient_id": "6283856796122",
                "conversation": {
                  "id": "792e0b2a03db35871ca11977c246d043",
                  "expiration_timestamp": "1756435167",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:29,718 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA=",
                "status": "delivered",
                "timestamp": "1756435167",
                "recipient_id": "6283856796122",
                "conversation": {
                  "id": "792e0b2a03db35871ca11977c246d043",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:29,798 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA=",
                "status": "delivered",
                "timestamp": "1756435167",
                "recipient_id": "6283856796122",
                "conversation": {
                  "id": "792e0b2a03db35871ca11977c246d043",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:29,838 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA=",
                "status": "read",
                "timestamp": "1756435167",
                "recipient_id": "6283856796122"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:39:29,839 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4Mzg1Njc5NjEyMhUCABEYEkIzMTk5OUJGNjQxRUU0Q0U2RQA=', 'status': 'read', 'timestamp': '1756435167', 'recipient_id': '6283856796122'}
2025-08-29 09:41:36,071 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBOUIwOTkxNzgyNkVDREI4REREAA==",
                "timestamp": "1756435293",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:41:36,072 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBOUIwOTkxNzgyNkVDREI4REREAA==",
  "timestamp": "1756435293",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:41:36,072 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:41:36,072 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:41:36,072 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:41:36,073 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:41:43,513 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1949
2025-08-29 09:41:43,513 - DEBUG - Ollama response: Yuk, coba cari sebuah gym yang dekat dengan rumahmu! 🏋️‍♂️🏃‍♀️ Emoji diatas merupakan gambar gym dan orang yang berolahraga.
2025-08-29 09:41:43,514 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Yuk, coba cari sebuah gym yang dekat dengan rumahmu! \ud83c\udfcb\ufe0f\u200d\u2642\ufe0f\ud83c\udfc3\u200d\u2640\ufe0f Emoji diatas merupakan gambar gym dan orang yang berolahraga."
  }
}
2025-08-29 09:41:43,514 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:41:44,864 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:41:44,864 - INFO - Message sent to 0812
2025-08-29 09:41:44,865 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjM1MEE2NjY5Q0U4QzQzNTlEQQA="}]}
2025-08-29 09:41:47,548 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjM1MEE2NjY5Q0U4QzQzNTlEQQA=",
                "status": "sent",
                "timestamp": "1756435304",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "800712187b51982be9a0d3a52ff9c970",
                  "expiration_timestamp": "1756435304",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:41:47,651 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjM1MEE2NjY5Q0U4QzQzNTlEQQA=",
                "status": "delivered",
                "timestamp": "1756435305",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "800712187b51982be9a0d3a52ff9c970",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:44:35,232 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQzQxNkQyN0NDRDdFNEU4ODhDAA==",
                "timestamp": "1756435472",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:44:35,232 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQzQxNkQyN0NDRDdFNEU4ODhDAA==",
  "timestamp": "1756435472",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:44:35,232 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:44:35,232 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:44:35,232 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:44:35,233 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:44:41,593 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1930
2025-08-29 09:44:41,593 - DEBUG - Ollama response: Ya, ada. Temukan gym terdekat di lokasi Anda melalui aplikasi Google Maps atau cari informasi di website resmi gym yang dekat dengan tempat tinggal Anda 😊
2025-08-29 09:44:41,594 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Ya, ada. Temukan gym terdekat di lokasi Anda melalui aplikasi Google Maps atau cari informasi di website resmi gym yang dekat dengan tempat tinggal Anda \ud83d\ude0a"
  }
}
2025-08-29 09:44:41,594 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:44:42,811 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:44:42,811 - INFO - Message sent to 0812
2025-08-29 09:44:42,811 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkM4MUJGNzgxNzZGRTNFRjZBOQA="}]}
2025-08-29 09:44:45,023 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkM4MUJGNzgxNzZGRTNFRjZBOQA=",
                "status": "delivered",
                "timestamp": "1756435482",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "376789d49b0bba7d16f3b5bcb30dfab4",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:44:45,337 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkM4MUJGNzgxNzZGRTNFRjZBOQA=",
                "status": "sent",
                "timestamp": "1756435482",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "376789d49b0bba7d16f3b5bcb30dfab4",
                  "expiration_timestamp": "1756435482",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:45:22,076 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBMkQ5Mjg2RjAzNjY0Qzg2RjI0AA==",
                "timestamp": "1756435519",
                "text": {
                  "body": "kak apakh ada fasilitasnnya gym ?"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:45:22,077 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBMkQ5Mjg2RjAzNjY0Qzg2RjI0AA==",
  "timestamp": "1756435519",
  "text": {
    "body": "kak apakh ada fasilitasnnya gym ?"
  },
  "type": "text"
}
2025-08-29 09:45:22,077 - INFO - New message from 0812: kak apakh ada fasilitasnnya gym ?...
2025-08-29 09:45:22,077 - DEBUG - User message to Ollama: kak apakh ada fasilitasnnya gym ?
2025-08-29 09:45:22,077 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: kak apakh ada fasilitasnnya gym ?\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:45:22,078 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:45:28,609 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1943
2025-08-29 09:45:28,609 - DEBUG - Ollama response: Ya, ada fasilitas gym di sekitar kamu! Kami akan membantu menemukan gym yang dekat dengan tempat tinggal anda. 🏋️‍♂️🏃‍♀️
2025-08-29 09:45:28,610 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Ya, ada fasilitas gym di sekitar kamu! Kami akan membantu menemukan gym yang dekat dengan tempat tinggal anda. \ud83c\udfcb\ufe0f\u200d\u2642\ufe0f\ud83c\udfc3\u200d\u2640\ufe0f"
  }
}
2025-08-29 09:45:28,611 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:45:29,911 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:45:29,911 - INFO - Message sent to 0812
2025-08-29 09:45:29,911 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjUwNTlDQjg1OUUxMDU1NEFBMgA="}]}
2025-08-29 09:45:32,004 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjUwNTlDQjg1OUUxMDU1NEFBMgA=",
                "status": "sent",
                "timestamp": "1756435529",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "ca8f8d935e40ff3e5ce3e81527f433b8",
                  "expiration_timestamp": "1756435529",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:45:32,312 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjUwNTlDQjg1OUUxMDU1NEFBMgA=",
                "status": "delivered",
                "timestamp": "1756435530",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "ca8f8d935e40ff3e5ce3e81527f433b8",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:19,832 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBMDhDRTgzODIzODk5QTFBRjNEAA==",
                "timestamp": "1756435577",
                "text": {
                  "body": "hellow"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:19,832 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBMDhDRTgzODIzODk5QTFBRjNEAA==",
  "timestamp": "1756435577",
  "text": {
    "body": "hellow"
  },
  "type": "text"
}
2025-08-29 09:46:19,832 - INFO - New message from 0812: hellow...
2025-08-29 09:46:19,833 - DEBUG - User message to Ollama: hellow
2025-08-29 09:46:19,833 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: hellow\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:46:19,834 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:46:24,704 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1669
2025-08-29 09:46:24,704 - DEBUG - Ollama response: Hai! Bagaimana hari ini? Saya adalah asisten AI yang siap membantu Anda 🤖
2025-08-29 09:46:24,705 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Hai! Bagaimana hari ini? Saya adalah asisten AI yang siap membantu Anda \ud83e\udd16"
  }
}
2025-08-29 09:46:24,706 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:46:26,173 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:46:26,174 - INFO - Message sent to 0812
2025-08-29 09:46:26,175 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjQ5OUYxM0ZDMEM1RjJCNjQwMgA="}]}
2025-08-29 09:46:28,276 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjQ5OUYxM0ZDMEM1RjJCNjQwMgA=",
                "status": "sent",
                "timestamp": "1756435586",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "009f1575a634374bba48146c7fb36cf8",
                  "expiration_timestamp": "1756435586",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:28,654 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjQ5OUYxM0ZDMEM1RjJCNjQwMgA=",
                "status": "read",
                "timestamp": "1756435586",
                "recipient_id": "6282244100812"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:28,654 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjQ5OUYxM0ZDMEM1RjJCNjQwMgA=', 'status': 'read', 'timestamp': '1756435586', 'recipient_id': '6282244100812'}
2025-08-29 09:46:28,692 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEjQ5OUYxM0ZDMEM1RjJCNjQwMgA=",
                "status": "delivered",
                "timestamp": "1756435586",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "009f1575a634374bba48146c7fb36cf8",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:53,388 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQkE0RUU4OEZBMkFGODc4MjExAA==",
                "timestamp": "1756435611",
                "text": {
                  "body": "bisa jelasin ga yaa jam berapa gym beroperasi"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:46:53,388 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQkE0RUU4OEZBMkFGODc4MjExAA==",
  "timestamp": "1756435611",
  "text": {
    "body": "bisa jelasin ga yaa jam berapa gym beroperasi"
  },
  "type": "text"
}
2025-08-29 09:46:53,389 - INFO - New message from 0812: bisa jelasin ga yaa jam berapa gym beroperasi...
2025-08-29 09:46:53,389 - DEBUG - User message to Ollama: bisa jelasin ga yaa jam berapa gym beroperasi
2025-08-29 09:46:53,389 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: bisa jelasin ga yaa jam berapa gym beroperasi\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:46:53,389 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:46:58,824 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1749
2025-08-29 09:46:58,824 - DEBUG - Ollama response: Gymnya beroperasi pada jam 07.00 - 21.00 WIB, semoga bermanfaat! 😊
2025-08-29 09:46:58,825 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Gymnya beroperasi pada jam 07.00 - 21.00 WIB, semoga bermanfaat! \ud83d\ude0a"
  }
}
2025-08-29 09:46:58,826 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:47:00,088 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:47:00,088 - INFO - Message sent to 0812
2025-08-29 09:47:00,089 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkMyNTMxREUwMUVCQ0Q4NzBDQQA="}]}
2025-08-29 09:47:02,205 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkMyNTMxREUwMUVCQ0Q4NzBDQQA=",
                "status": "sent",
                "timestamp": "1756435619",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "c94a603a21c29727248e9b50cc597cad",
                  "expiration_timestamp": "1756435619",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:02,370 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkMyNTMxREUwMUVCQ0Q4NzBDQQA=",
                "status": "delivered",
                "timestamp": "1756435620",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "c94a603a21c29727248e9b50cc597cad",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:02,812 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkMyNTMxREUwMUVCQ0Q4NzBDQQA=",
                "status": "read",
                "timestamp": "1756435620",
                "recipient_id": "6282244100812"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:02,812 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkMyNTMxREUwMUVCQ0Q4NzBDQQA=', 'status': 'read', 'timestamp': '1756435620', 'recipient_id': '6282244100812'}
2025-08-29 09:47:26,064 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "M. Toriqul"
                },
                "wa_id": "6285730784528"
              }
            ],
            "messages": [
              {
                "from": "6285730784528",
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIDhDNTE5RkY5NEI1MTcwRDVGRTMyOUI4QUM1MDczMjQzAA==",
                "timestamp": "1756435643",
                "text": {
                  "body": "halo"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:26,064 - DEBUG - Processing message: {
  "from": "6285730784528",
  "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIDhDNTE5RkY5NEI1MTcwRDVGRTMyOUI4QUM1MDczMjQzAA==",
  "timestamp": "1756435643",
  "text": {
    "body": "halo"
  },
  "type": "text"
}
2025-08-29 09:47:26,064 - INFO - New message from 4528: halo...
2025-08-29 09:47:26,064 - DEBUG - User message to Ollama: halo
2025-08-29 09:47:26,064 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: halo\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:47:26,065 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:47:30,893 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1638
2025-08-29 09:47:30,893 - DEBUG - Ollama response: Hai! Bagaimana keadaan kamu? Apakah ada yang bisa saya bantu? 😊
2025-08-29 09:47:30,894 - DEBUG - Sending WhatsApp message to 6285730784528: {
  "messaging_product": "whatsapp",
  "to": "6285730784528",
  "type": "text",
  "text": {
    "body": "Hai! Bagaimana keadaan kamu? Apakah ada yang bisa saya bantu? \ud83d\ude0a"
  }
}
2025-08-29 09:47:30,894 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:47:32,235 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:47:32,235 - INFO - Message sent to 4528
2025-08-29 09:47:32,235 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6285730784528","wa_id":"6285730784528"}],"messages":[{"id":"wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjk1MjU3NDQ2NTE0NkI0MjlFMAA="}]}
2025-08-29 09:47:33,988 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjk1MjU3NDQ2NTE0NkI0MjlFMAA=",
                "status": "sent",
                "timestamp": "1756435651",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "d3949e10b497437c4f0a9d0bf670bd97",
                  "expiration_timestamp": "1756435651",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:34,383 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjk1MjU3NDQ2NTE0NkI0MjlFMAA=",
                "status": "read",
                "timestamp": "1756435652",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "d3949e10b497437c4f0a9d0bf670bd97",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:34,383 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjk1MjU3NDQ2NTE0NkI0MjlFMAA=', 'status': 'read', 'timestamp': '1756435652', 'recipient_id': '6285730784528', 'conversation': {'id': 'd3949e10b497437c4f0a9d0bf670bd97', 'origin': {'type': 'service'}}, 'pricing': {'billable': False, 'pricing_model': 'PMP', 'category': 'service', 'type': 'free_customer_service'}}
2025-08-29 09:47:34,539 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjk1MjU3NDQ2NTE0NkI0MjlFMAA=",
                "status": "delivered",
                "timestamp": "1756435652",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "d3949e10b497437c4f0a9d0bf670bd97",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:50,246 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "M. Toriqul"
                },
                "wa_id": "6285730784528"
              }
            ],
            "messages": [
              {
                "from": "6285730784528",
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIEJCMTQxNzAwN0NGRjIwMTIwREU1RDM2QTRCRTRERjhDAA==",
                "timestamp": "1756435667",
                "text": {
                  "body": "apa itu kapibara"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:47:50,246 - DEBUG - Processing message: {
  "from": "6285730784528",
  "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABIYIEJCMTQxNzAwN0NGRjIwMTIwREU1RDM2QTRCRTRERjhDAA==",
  "timestamp": "1756435667",
  "text": {
    "body": "apa itu kapibara"
  },
  "type": "text"
}
2025-08-29 09:47:50,246 - INFO - New message from 4528: apa itu kapibara...
2025-08-29 09:47:50,246 - DEBUG - User message to Ollama: apa itu kapibara
2025-08-29 09:47:50,246 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: apa itu kapibara\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:47:50,247 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:47:56,900 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 1860
2025-08-29 09:47:56,901 - DEBUG - Ollama response: Kapibara adalah jenis monyet yang tumbuh di Amerika Selatan, dengan warna bulat-bulat merah dan besar ukurannya. 🦧🇧🇷😊
2025-08-29 09:47:56,901 - DEBUG - Sending WhatsApp message to 6285730784528: {
  "messaging_product": "whatsapp",
  "to": "6285730784528",
  "type": "text",
  "text": {
    "body": "Kapibara adalah jenis monyet yang tumbuh di Amerika Selatan, dengan warna bulat-bulat merah dan besar ukurannya. \ud83e\udda7\ud83c\udde7\ud83c\uddf7\ud83d\ude0a"
  }
}
2025-08-29 09:47:56,902 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:47:58,387 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:47:58,387 - INFO - Message sent to 4528
2025-08-29 09:47:58,387 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6285730784528","wa_id":"6285730784528"}],"messages":[{"id":"wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjdCNURFQjI1MjUzMjgxQ0I3RAA="}]}
2025-08-29 09:48:00,294 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjdCNURFQjI1MjUzMjgxQ0I3RAA=",
                "status": "sent",
                "timestamp": "1756435678",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "354c2c468b8657350269bfee592e655b",
                  "expiration_timestamp": "1756435678",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:48:00,417 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjdCNURFQjI1MjUzMjgxQ0I3RAA=",
                "status": "read",
                "timestamp": "1756435678",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "354c2c468b8657350269bfee592e655b",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:48:00,418 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjdCNURFQjI1MjUzMjgxQ0I3RAA=', 'status': 'read', 'timestamp': '1756435678', 'recipient_id': '6285730784528', 'conversation': {'id': '354c2c468b8657350269bfee592e655b', 'origin': {'type': 'service'}}, 'pricing': {'billable': False, 'pricing_model': 'PMP', 'category': 'service', 'type': 'free_customer_service'}}
2025-08-29 09:48:00,453 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4NTczMDc4NDUyOBUCABEYEjdCNURFQjI1MjUzMjgxQ0I3RAA=",
                "status": "delivered",
                "timestamp": "1756435678",
                "recipient_id": "6285730784528",
                "conversation": {
                  "id": "354c2c468b8657350269bfee592e655b",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:49:28,976 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "contacts": [
              {
                "profile": {
                  "name": "bayu"
                },
                "wa_id": "6282244100812"
              }
            ],
            "messages": [
              {
                "from": "6282244100812",
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQjE1NTQwNjBCREY4NTAyRTY2AA==",
                "timestamp": "1756435766",
                "text": {
                  "body": "area gymnya dimana saja yaa"
                },
                "type": "text"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:49:28,978 - DEBUG - Processing message: {
  "from": "6282244100812",
  "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABIYFDNBQjE1NTQwNjBCREY4NTAyRTY2AA==",
  "timestamp": "1756435766",
  "text": {
    "body": "area gymnya dimana saja yaa"
  },
  "type": "text"
}
2025-08-29 09:49:28,978 - INFO - New message from 0812: area gymnya dimana saja yaa...
2025-08-29 09:49:28,978 - DEBUG - User message to Ollama: area gymnya dimana saja yaa
2025-08-29 09:49:28,978 - DEBUG - Sending request to Ollama: http://localhost:11434/api/generate with payload: {
  "model": "mistral",
  "prompt": "Anda adalah asisten AI yang ramah dan membantu melalui WhatsApp. \n        Gunakan aturan berikut:\n        1. Selalu jawab dalam bahasa Indonesia yang sopan dan mudah dipahami\n        2. Jawaban harus singkat dan jelas (maksimal 3-4 kalimat)\n        3. Gunakan emoji yang sesuai untuk membuat percakapan lebih menyenangkan\n        4. Jika ditanya tentang identitas, katakan Anda adalah asisten AI\n        5. Berikan jawaban yang informatif dan membantu\n        6. Jika tidak tahu jawaban, akui dengan jujur dan sarankan alternatif\n\n        Pertanyaan pengguna: area gymnya dimana saja yaa\n\n        Jawaban Anda:",
  "stream": false,
  "options": {
    "temperature": 0.7,
    "max_tokens": 500,
    "top_p": 0.9,
    "repeat_penalty": 1.1
  }
}
2025-08-29 09:49:28,979 - DEBUG - Starting new HTTP connection (1): localhost:11434
2025-08-29 09:49:40,336 - DEBUG - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
2025-08-29 09:49:40,336 - DEBUG - Ollama response: Saya maaf, saya bukan orang tetapi sebuah asisten AI. Tidak ada informasi mengenai lokasi gym Anda karena saya hanya sekedar asisten dan tidak memiliki akses langsung ke data pribadi Anda. Saya sarankan Anda untuk melihat atau meminta informasi lebih lanjut dari penyedia layanan gym yang digunakan Anda. 🤔🏋️‍♂️
2025-08-29 09:49:40,337 - DEBUG - Sending WhatsApp message to 6282244100812: {
  "messaging_product": "whatsapp",
  "to": "6282244100812",
  "type": "text",
  "text": {
    "body": "Saya maaf, saya bukan orang tetapi sebuah asisten AI. Tidak ada informasi mengenai lokasi gym Anda karena saya hanya sekedar asisten dan tidak memiliki akses langsung ke data pribadi Anda. Saya sarankan Anda untuk melihat atau meminta informasi lebih lanjut dari penyedia layanan gym yang digunakan Anda. \ud83e\udd14\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f"
  }
}
2025-08-29 09:49:40,338 - DEBUG - Starting new HTTPS connection (1): graph.facebook.com:443
2025-08-29 09:49:41,609 - DEBUG - https://graph.facebook.com:443 "POST /v21.0/254764134391952/messages HTTP/1.1" 200 180
2025-08-29 09:49:41,609 - INFO - Message sent to 0812
2025-08-29 09:49:41,609 - DEBUG - WhatsApp API response: Status 200, Body: {"messaging_product":"whatsapp","contacts":[{"input":"6282244100812","wa_id":"6282244100812"}],"messages":[{"id":"wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkU5NkQwRjI1QTYwNDRFOTlCNgA="}]}
2025-08-29 09:49:43,760 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkU5NkQwRjI1QTYwNDRFOTlCNgA=",
                "status": "sent",
                "timestamp": "1756435781",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "6f4931aad0d511ddb9d427eb4d7d7aa5",
                  "expiration_timestamp": "1756435781",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:49:44,006 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkU5NkQwRjI1QTYwNDRFOTlCNgA=",
                "status": "delivered",
                "timestamp": "1756435781",
                "recipient_id": "6282244100812",
                "conversation": {
                  "id": "6f4931aad0d511ddb9d427eb4d7d7aa5",
                  "origin": {
                    "type": "service"
                  }
                },
                "pricing": {
                  "billable": false,
                  "pricing_model": "PMP",
                  "category": "service",
                  "type": "free_customer_service"
                }
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:49:44,145 - DEBUG - Webhook received: {
  "object": "whatsapp_business_account",
  "entry": [
    {
      "id": "265265776670485",
      "changes": [
        {
          "value": {
            "messaging_product": "whatsapp",
            "metadata": {
              "display_phone_number": "15550528125",
              "phone_number_id": "254764134391952"
            },
            "statuses": [
              {
                "id": "wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkU5NkQwRjI1QTYwNDRFOTlCNgA=",
                "status": "read",
                "timestamp": "1756435782",
                "recipient_id": "6282244100812"
              }
            ]
          },
          "field": "messages"
        }
      ]
    }
  ]
}
2025-08-29 09:49:44,146 - INFO - Message read by user: {'id': 'wamid.HBgNNjI4MjI0NDEwMDgxMhUCABEYEkU5NkQwRjI1QTYwNDRFOTlCNgA=', 'status': 'read', 'timestamp': '1756435782', 'recipient_id': '6282244100812'}
